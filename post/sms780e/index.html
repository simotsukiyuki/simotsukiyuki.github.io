<!DOCTYPE html>
<html>
<head>
<link rel="shortcut icon" href="https://simotsukiyuki.github.io/favicon.ico" type="image/x-icon" /><meta name="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/><meta name="apple-mobile-web-app-capable"content="yes"/><meta name="apple-mobile-web-app-status-bar-style"content="black"/><meta name="format-detection"content="telephone=no"/><meta name="renderer"content="webkit"><meta name="description"content="霜月雪的游戏人生"><meta charset="UTF-8"><title>SMS780E：适配合宙Air780E(G)系列LTE Cat.1模块的短信转发工具 | SHIYUKI Software</title>
<link href="https://simotsukiyuki.github.io/styles/main.css" type="text/css" rel="stylesheet" /><link href="https://at.alicdn.com/t/font_1621793_zatzzgvf30g.css" type="text/css" rel="stylesheet" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css"><script async src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.min.js"></script><script src="https://simotsukiyuki.github.io/media/js/magnify.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"></script>
<script type="text/javascript">function btn_toggle(){document.getElementById("hn").classList.contains("no-js")?document.getElementById("hn").classList.remove("no-js"):document.getElementById("hn").classList.add("no-js")}</script>

<link rel="canonical" href="https://simotsukiyuki.github.io/post/sms780e/" />
</head>
<body>
<div class="progress"></div><style>.progress{background:linear-gradient(to right,#87ceeb var(--scroll),transparent 0);background-repeat:no-repeat;position:fixed;width:100%;height:4px;z-index:1}</style><div class="darkmode-background"></div><div class="darkmode-layer"></div>
<noscript><p class="warn" >本页面需要浏览器支持（启用）JavaScript</p></noscript><div class="header"><div class="logo_title"><div class="title animated fadeInDown"><a href="https://simotsukiyuki.github.io"><img alt="logo" style="display:inline-block;" src="https://simotsukiyuki.github.io/images/avatar.png"/></a><h1 title="SHIYUKI Software" class="weaklink"><a  href="/">SHIYUKI Software</a></h1>

<div class="navbar weaklink">
<div class="normal_nav">
<div class="bitcron_nav_container"><div class="bitcron_nav"><div class="bitcron_nav"><div style="display:flex;justify-content:center;"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >首页</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >归档</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >标签</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >关于</a></li></ul></nav>
<div style="float:right;margin-top:1em"><form id="gridea-search-form" data-update="1578893743252" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="Search..."></form></div><div style="margin-left:0.5em;margin-top:1.2em"><input id="switch_default" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
<div class="clear clear_nav_inline_end"></div></div></div><div class="clear clear_nav_end"></div></div></div><div class="hamberger" href="javascript:void(0)" onclick="btn_toggle();"><i class="iconfont icon-category"></i></div></div></div></div>
<div id="hn" class="no-js hidden_nav animated fadeInDown"><div class="bitcron_nav_container"><div class="bitcron_nav"><nav class="mixed_site_nav_wrap site_nav_wrap"><ul class="mixed_site_nav site_nav sm sm-base">	<li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/" class="selected active current nav__item" >首页</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/archives" class="selected active current nav__item" >归档</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/tags" class="selected active current nav__item" >标签</a></li><li><a id="d2ef19af68cc211e98f8a0242ac110003" href="/post/about" class="selected active current nav__item" >关于</a></li></ul><div class="clear clear_nav_inline_end"></div></nav></div><div class="clear clear_nav_end"></div></div>
<div style="display:flex;justify-content:center;inline-block;text-align:center;margin-top:7%"><div><form id="gridea-search-form" data-update="1732696466499" action="/search/index.html"><input class="search-input" autocomplete="off" spellcheck="false" name="q"  placeholder="Search..." /></form></div><div style="margin-left:0.5em"><input id="switch_default_h" onclick="mobileBtn()" type="checkbox" class="switch_default"><label for="switch_default" class="toggleBtn"></label></div></div>
</div></div>
<script>function enableDarkmode(){document.body.classList.add("darkmode"),document.getElementById("switch_default").checked=1,document.getElementById("switch_default_h").checked=1}function removeDarkmode(){document.body.classList.remove("darkmode"),document.getElementById("switch_default").checked=0,document.getElementById("switch_default_h").checked=0}function getCookie(a){var b,c=new RegExp("(^| )"+a+"=([^;]*)(;|$)");return(b=document.cookie.match(c))?unescape(b[2]):null}cookie=getCookie("darkmode"),"enable"==cookie&&enableDarkmode(),window.matchMedia("(prefers-color-scheme: dark)").matches&&"disable"!==cookie&&(enableDarkmode(),document.cookie="darkmode=enable; path=/");var mobileBtn=function(){1==document.getElementById("switch_default").checked?(enableDarkmode(),document.cookie="darkmode=enable; path=/"):(removeDarkmode(),document.cookie="darkmode=disable; path=/")};</script>

<div class="main"><div class="main-inner"><div class="content">
<article class="post">
<h2 class="post_title sm_margin"><a>SMS780E：适配合宙Air780E(G)系列LTE Cat.1模块的短信转发工具</a></h2>
<script>function lan(){if(document.getElementById("lan").innerText=="繁"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_tw.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="简"}else{if(document.getElementById("lan").innerText=="簡"){var s=document.getElementById("tongwenlet_cn");if(s!=null){document.body.removeChild(s)}var s=document.createElement("script");s.language="javascript";s.type="text/javascript";s.src="https://cdn.jsdelivr.net/gh/qyxtim/Static@1.1/bookmarklet_cn.js";s.id="tongwenlet_cn";document.body.appendChild(s);document.getElementById("lan").innerHTML="繁"}}};</script>
<section class="post_details"><i class="iconfont icon-calendar"></i><span style="margin-right:15px"> 2023-08-04</span><i class="iconfont icon-browse"></i><span style="margin-right:15px"> <span id="busuanzi_value_page_pv"></span> Views</span><i class="iconfont icon-category"></i><span class="weaklink" style="margin-right:15px">	<a href="https://simotsukiyuki.github.io/tag/bCLlgeMg1/" class="tag">短信转发</a> | 	<a href="https://simotsukiyuki.github.io/tag/dmcSpwK5Go/" class="tag">开发板</a> | 	<a href="https://simotsukiyuki.github.io/tag/cnZCW7PQ1K/" class="tag">SHIYUKI原创</a> | 	<a href="https://simotsukiyuki.github.io/tag/eAVRq0evj4/" class="tag">软件推荐</a></span><i class="iconfont icon-caret-down"></i><span style="margin-right:15px">2005字</span><i class="iconfont icon-naozhong"></i><span style="margin-right:15px">7 min read</span><a id="lan" href="javascript:void(0);"onclick="lan();"title="调整简繁体" style="margin-right:15px;">繁</a>
</section>

<div style="display:flex">
<div class="md_block" id="md_block">
<div class="round-shape-one"></div>
<p>近年来由于各方面的原因，不少人都有了第2、3、4甚至更多张卡。但是出门不可能同时带三四个手机，因此将副卡的短信转发到主力机就成了一个令很多人头疼的问题。<br>
虽然也有类似使用安卓备用机装Tasker、短信转发助手之类的办法来实现短信转发功能，但是这么做需要一部安卓机不说，常年累月的把手机插着充电器充电更是有电池爆炸的风险。而且大多数安卓机都没有来电自启动的功能，一旦安卓机因为某些原因导致死机/关机/重启等，下次开机以前就无法正常工作了。</p>
<!-- more -->
<p>目前本人看到成本最低的方案是使用Air780E配合ESP32Wifi板来实现短信转发，成本只需39.99元即可实现——<br>
https://www.chenxublog.com/2022/10/28/19-9-sms-forwarding-air780e-esp32c3.html<br>
这也是我觉得最好的方案之一。但是这个方案最大的问题是你还需要准备一个电烙铁，因为需要焊接5根PIN去连接uart串口。如果你像我一样焊工没有那么精通，很可能最后把板子搞废了都焊不成功……<br>
于是作为替代的产物，就产生了SMS780E这个项目，使用电脑接收手机短信，然后再把短信转发出去。这种方案的问题在于电脑必须一直开着（所以比较费电），但是如果使用J1800/J1900这种低功耗的CPU，实际耗电量并不会比树莓派高太多，毕竟很多人家里用的软路由也要几十W的功耗。<br>
软件下载：<br>
Air780E短信专用固件：https://github.com/simotsukiyuki/sms_forwarding_uart/releases/tag/Release<br>
SMS780E客户端：https://github.com/simotsukiyuki/SMS780E</p>
<h1 id="使用方法">使用方法</h1>
<h2 id="给开发板刷机">给开发板刷机</h2>
<p>参考https://wiki.luatos.com/boardGuide/flash.html%E3%80%82。<br>
记得刷机固件需要使用短信专用固件。</p>
<h2 id="确定用户串口">确定用户串口</h2>
<p>建议刷机以后重启开发板（软件重启或者硬件重启都可以》。<br>
然后在LutaOS开发环境的Logs里可以确认到你的用户串口。<br>
<img src="https://simotsukiyuki.github.io/post-images/1691132373711.jpg" alt="" loading="lazy"><br>
记下来。</p>
<h2 id="配置sms780e">配置SMS780E</h2>
<p><img src="https://simotsukiyuki.github.io/post-images/1691132412909.jpg" alt="" loading="lazy"><br>
如果使用的是我提供的固件，或者你也没改代码。是不需要改串口波特率、数据位和停止位的。你只需要把上一节提到的那个用户串口（比如COM6）原封不动的填进去，点“开启串口”就可以了。<br>
开启成功以后软件会自动最小化到托盘，你可以双击点开看收件箱，也可以让他最小化等待收信。</p>
<h2 id="配置邮件转发">配置邮件转发</h2>
<p><img src="https://simotsukiyuki.github.io/post-images/1691132531142.jpg" alt="" loading="lazy"><br>
根据你自己邮箱提供商提供的界面一个一个、一个一个的填写进去即可。（首）</p>
<h1 id="关于开发板选择">关于开发板选择</h1>
<p><img src="https://simotsukiyuki.github.io/post-images/1691135672211.jpg" alt="" loading="lazy"><br>
目前我在X宝上看到有两种开发板，左边这种是合宙官方推出的Air780E开发板，售价为39元（加0.99元还多一块Air32f103</p>
<p>这块板子我也买了，不得不说做工还是很不错的。39.9元就可以实现短信转发功能<strong>非常超值</strong>，而且也省电。<br>
当然代价也是有的，你需要焊接（即使配合我的SMS780E也需要短接一处引脚实现插电自启），你需要修改几处lua代码，你还需要去申请云平台。</p>
<p>还有一种（右边的）是便宜十来块钱（我买到最便宜的是25元），直接就是一个USB公头的开发板，即插即用自动开机，做 工 十 分 粗 糙。这种的好处是你可以直接套用本文的内容，实现完全0焊接0代码，只需要刷机填几个参数就可以转发了。<br>
当然这种方案的最大代价就是，你的电脑需要24小时开机……你将会需要再多花100多块钱买一台J1900的小主机才能帮你节省下来一点电费（使用ESP32的方案几乎不怎么耗电）。当然这种方案也不支持转发到平台，如果有这种需要，你可能还需要自己去写树莓派等上位机的程序。</p>
<p>具体怎么权衡利弊就看你咯？</p>
<h1 id="轶事">轶事</h1>
<p>本来一开始我的开发板是在淘宝店X云物联买的。然后店家给我推荐他们有一个叫做“Air780短信版”的特别版本，说是能直接把短信内容显示到电脑屏幕上。<br>
本着多一事不如少一事的原则，我偷懒。就选择了这个“短信版Air780E”开发板。<br>
顺带一提这个玩意的售价是58元，而他们的“AT版”只需要28元就能买到。<br>
结果收到货之后插上电脑才发现这不还是AT固件吗？找卖家理论，卖家过了老半天才跟我说要让我联系技术给我发固件，要刷了固件才是短信版。<br>
我：……<br>
那没辙，联系呗。<br>
结果过了老半天，对面的技术才磨磨蹭蹭的给我回了消息<br>
<em>Air780E的模块，短信版的，现在只支持接收短信,发送短信的功能正在做，预计这周会做好</em><br>
我：？？？<br>
啊？合着您是金凡啊，直接给我卖半成品是吧？不 搞 好 不 发 布 ？<br>
但是想了想既然都已经收到了，那半成品就半成品吧，反正也就接收短信，不影响使用。<br>
然后技术给我说，需要我这个模块提供IMEI号。<br>
我隐约觉得有点不对劲，但是还是把IMEI给了他。<br>
结果又是等啊等，等到了第二天上午我又催了一下对面的技术，临近中午他才终于把固件写完给了我。</p>
<p>刷机，测试。嗯，CSDK固件，短信能接收，是直接输出到用户串口的，然后……<br>
然后……我终于发现为什么他要我提供IMEI号了——<br>
因为我在开发板的log里看到了一行字：<br>
<em>检测IMEI：86xxxxxxxxxx，正确</em></p>
<p>哈！合着您还搞加密是吧，为了不让我把这个所谓“短信版固件”泄露出去，您还真TM煞费苦心啊。<br>
老实说到这里我已经很不悦了。<strong>客服回复慢、技术拖拖拉拉、高价卖半成品、搞加密闭锁</strong>，我都忍了。<br>
最后让我下决心把这玩意给退掉的主要原因是我隔了三天以后去看这玩意的价格，他那个所谓的“短信版”固件竟然降价到38元了！！</p>
<p>我超……<br>
考虑到我多花了接近一倍的价格却拿到的是个半成品，这种背刺行为搞得我非常恼火。鉴于当时我又买了合宙官方的开发板，而且也已经参考chenxuuu的开源代码（https://github.com/chenxuuu/sms_forwarding/tree/master/only_Air780E_version），实现了同样把短信输出到用户串口（并且序列化成json格式）的功能（是的，他们的技术甚至连抄都不会抄），在跟客服对线失败以后，我当即选择了立即退款，然后拍下了另一家25元的AT固件的Air780E。<br>
当然后来还实现了发送短信的功能（根本没技术含量，甚至可以完全照抄合宙的档案例程代码）。<br>
最后总算是没有当这个冤大头。<br>
但是他们客服至今还没给我确认退款，我运费险还没赔给我呢……</p>
<p>对了，说到客服，我当时卡在uart无法正常输出的问题上卡了蛮久。最后无奈只好去合宙官方论坛注册了一个账户，写清楚了自己的问题。<br>
合宙官方论坛的工作人员非常热情的，几分钟就给了我回复——而且是在论坛上回复的。</p>
<p>我已经完全无力吐槽这个淘宝店了。<br>
虽然东西确实还行。</p>

<span id="footnote"></span>
<div id = "warn"></div>
</div>
<div class="toc-container"><ul class="markdownIt-TOC">
<li><a href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95">使用方法</a>
<ul>
<li><a href="#%E7%BB%99%E5%BC%80%E5%8F%91%E6%9D%BF%E5%88%B7%E6%9C%BA">给开发板刷机</a></li>
<li><a href="#%E7%A1%AE%E5%AE%9A%E7%94%A8%E6%88%B7%E4%B8%B2%E5%8F%A3">确定用户串口</a></li>
<li><a href="#%E9%85%8D%E7%BD%AEsms780e">配置SMS780E</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E9%82%AE%E4%BB%B6%E8%BD%AC%E5%8F%91">配置邮件转发</a></li>
</ul>
</li>
<li><a href="#%E5%85%B3%E4%BA%8E%E5%BC%80%E5%8F%91%E6%9D%BF%E9%80%89%E6%8B%A9">关于开发板选择</a></li>
<li><a href="#%E8%BD%B6%E4%BA%8B">轶事</a></li>
</ul>
</div>
</div>
<div id="fullPage"><canvas id="canvas"></canvas></div>
</article>
<div id="eof"><span>EOF</span></div><div class="round-shape-one"></div>
<section>
<div class="doc_comments">

</div></section>
</div></div></div><script>
"use strict";!function(){for(var n=document.getElementsByTagName("pre"),e=n.length,s=0;s<e;s++){n[s].innerHTML='<span class="line-number"></span>'+n[s].innerHTML+'<span class="cl"></span>';for(var a=n[s].innerHTML.split(/\n/).length,r=0;r<a-1;r++){n[s].getElementsByTagName("span")[0].innerHTML+="<span>"+(r+1)+"</span>"}}}();
let mainNavLinks=document.querySelectorAll(".markdownIt-TOC a");window.addEventListener("scroll",event=>{let fromTop=window.scrollY;mainNavLinks.forEach((link,index)=>{let section=document.getElementById(decodeURI(link.hash).substring(1));let nextSection=null
if(mainNavLinks[index+1]){nextSection=document.getElementById(decodeURI(mainNavLinks[index+1].hash).substring(1));}
if(section.offsetTop<=fromTop){if(nextSection){if(nextSection.offsetTop>fromTop){link.classList.add("currentToc");}else{link.classList.remove("currentToc");}}else{link.classList.add("currentToc");}}else{link.classList.remove("currentToc");}});});
var h=document.documentElement,b=document.body,st="scrollTop",sh="scrollHeight",progress=document.querySelector(".progress"),scroll;document.addEventListener("scroll",function(){scroll=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100;progress.style.setProperty("--scroll",scroll+"%")});
var wxScale=new WxScale({fullPage:document.querySelector("#fullPage"),canvas:document.querySelector("#canvas")});var imgBox=document.querySelectorAll("#md_block img");for(var i=0;i<imgBox.length;i++){imgBox[i].onclick=function(e){wxScale.start(this)}};
</script>
<a id="scrollUp" href="#top" style="position: fixed; z-index: 2147483647; display: block;"></a><div class="footer animated fadeInDown"><div class="site_footer"><div class="mysocials"><div class="my_socials"><a href="https://github.com/simotsukiyuki/"title="github"><i class="iconfont icon-github"></i></a><a href="yuki@shiyuki.com"title="envelope"><i class="iconfont icon-envelope"></i></a><a href="https://www.zhihu.com/people/xue-zhu-shuang-yue"title="zhihu"><i class="iconfont icon-zhihu"></i></a></div></div><div class="copyright"id="copyright">Website owned by Simotsuki Yuki. © 2023 <a href="https://simotsukiyuki.github.io" style="margin:0;">SHIYUKI Software</a>.</br>除非特殊指明，本站所有文章内容版权均为SHIYUKI Software所有，未经允许谢绝转载。</div>
<span style="display: inline;margin-right:15px;"><strong></strong></span><span id="busuanzi_container_page_pv" style="display: inline;"><span>📚<strong>11</strong> posts</span></div></div>
<script>
console.log("\n %c \u26a1Theme: Bitcron-pro Author's Blog:https://blog.blinkstar.cn  Writen By Serence  \n\n", "color: #ffffff; background: rgba(49, 49, 49, 0.85); padding:5px 0;border-radius:5px;", );
</script>
<script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module" defer></script>
<script type="text/javascript" async src="https://simotsukiyuki.github.io/media/js/prism.js"></script>
</body>
</html>